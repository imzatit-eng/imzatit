#!/usr/bin/env node

console.log(`
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ğŸš€ Blue Man Bot - Imzatit AI Orchestrator             â•‘
â•‘   Version: 1.0.0 | Status: Initializing                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
`);

const BlueManBot = require('./blue-man-bot');
const config = require('./config');
const fs = require('fs');

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ù„Ù Ø§Ù„Ø®Ø¯Ù…Ø©
if (!fs.existsSync(config.GOOGLE_SERVICE_ACCOUNT_PATH)) {
  console.error('âŒ Ù…Ù„Ù Ø®Ø¯Ù…Ø© Ø¬ÙˆØ¬Ù„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!');
  console.log('ğŸ“ ÙŠØ±Ø¬Ù‰ ÙˆØ¶Ø¹ Ù…Ù„Ù service-account.json ÙÙŠ Ù…Ø¬Ù„Ø¯ google-automation');
  process.exit(1);
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª
async function start() {
  try {
    const bot = new BlueManBot();
    await bot.initialize();
    
    // Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ØªØ´ØºÙŠÙ„
    process.on('SIGINT', async () => {
      console.log('\nğŸ›‘ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø±Ø¬Ù„ Ø§Ù„Ø£Ø²Ø±Ù‚...');
      await bot.shutdown();
      process.exit(0);
    });
    
    process.on('unhandledRejection', (error) => {
      console.error('âŒ Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø§Ù„Ø¬:', error);
    });
    
  } catch (error) {
    console.error('âŒ ÙØ´Ù„ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª:', error);
    process.exit(1);
  }
}

start();